very simple volume control for the window manager StumpWM
---------------------------------------------------------

Just support the three volume control keys on many keyboards.

Depends on amixer which is started via RUN-SHELL-COMMAND.

Hacked by Max-Gerd Retzlaff.


loading and configuration
-------------------------

You can automatically load the module by adding this to your
~/.stumpwm.d/init.lisp:

  (load-module "stump-volume-control")

Then assign the three commands volume-up, volume-down, volume-toggle-mute
globally to some keys. If your keyboards has got them you can use the
typical volume control keys:

  (define-key *top-map* (kbd "XF86AudioRaiseVolume") "volume-up")
  (define-key *top-map* (kbd "XF86AudioLowerVolume") "volume-down")
  (define-key *top-map* (kbd "XF86AudioMute") "volume-toggle-mute")

But you have to add it yourself to your ~/.stumpwm.d/init.lisp as I consider
it bad manners to define global keys in a module.


If you do not want to control the sound card that ALSA considers your
first one (that is, sound card number 0, the default), just alter the
value of the exported variable STUMP-VOLUME-CONTROL:*SOUND-CARD*. For
example, by adding to your ~/.stumpwm.d/init.lisp:

  (setf stump-volume-control:*sound-card* 1)


PulseAudio mutes more than it unmutes. There is a hack that will also
unmute the outputs. See comment in VOLUME-TOGGLE-MUTE for more details.
The hack is deactivated by default. You can activate it with:

  (setf stump-volume-control:*pulse-audio-unmute-hack* t)
